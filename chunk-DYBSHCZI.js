import{P as p,T as g,bc as d,n as a,r as c,z as l}from"./chunk-HUX5XHGN.js";var m=class r{constructor(t){this.http=t}sections=[{id:"home-header",name:"Home Header",storageKey:"home-header-content",jsonPath:"assets/data/components/header/home/home-header-content.json",description:"Header della home page con CTA"},{id:"japan-experience",name:"Japan Experience",storageKey:"japan-experience-content",jsonPath:"assets/data/home/sections/japan-experience/japan-experience-content.json",description:"Sezione principale della home - Esperienza Giappone"},{id:"watabi-approach",name:"Watabi Approach",storageKey:"watabi-content",jsonPath:"assets/data/home/sections/watabi/watabi-content.json",description:'Sezione "Il nostro approccio"'},{id:"trova-il-tuo-viaggio",name:"Travel Types",storageKey:"travel-types-content",jsonPath:"assets/data/home/sections/travel-types/travel-types-content.json",description:"Sezione tipi di viaggio + Tour Hanami speciale"},{id:"destinations",name:"Destinations",storageKey:"destinations-content",jsonPath:"assets/data/home/sections/destinations/destinations-content.json",description:"Sezione destinazioni principali del Giappone"},{id:"best-period",name:"Best Period",storageKey:"best-period-content",jsonPath:"assets/data/home/sections/best-period/best-period-content.json",description:'Sezione "Quando andare" - Stagioni e periodi migliori'},{id:"testimonials",name:"Testimonials",storageKey:"testimonials-content",jsonPath:"assets/data/components/reviews/reviews-content.json",description:"Sezione testimonianze viaggiatori + CTA"},{id:"cta-japan-travel",name:"CTA Japan Travel",storageKey:"cta-japan-travel-content",jsonPath:"assets/data/components/cta-japan-travel/cta-japan-travel-content.json",description:"CTA finale con features + bottoni"}];getSections(){return this.sections}getSection(t){return this.sections.find(e=>e.id===t)}loadContent(t){let e=this.getSection(t);if(!e)return console.error(`Sezione non trovata: ${t}`),a(null);let o=localStorage.getItem(e.storageKey);if(o)try{let n=JSON.parse(o);return console.log(`\u{1F4DD} [${e.name}] Contenuto da localStorage`),a(n)}catch(n){console.error(`Errore parsing localStorage per ${e.name}:`,n),localStorage.removeItem(e.storageKey)}return this.http.get(e.jsonPath).pipe(c(n=>(console.log(`\u{1F4C4} [${e.name}] Contenuto da JSON originale`),n)),l(n=>(console.error(`\u274C Errore caricamento ${e.name}:`,n),a(null))))}saveContent(t,e){let o=this.getSection(t);if(!o)return console.error(`Sezione non trovata: ${t}`),!1;try{return localStorage.setItem(o.storageKey,JSON.stringify(e)),console.log(`\u2705 [${o.name}] Salvato in localStorage`),!0}catch(n){return console.error(`\u274C Errore salvataggio ${o.name}:`,n),!1}}resetContent(t){let e=this.getSection(t);return e?(localStorage.removeItem(e.storageKey),console.log(`\u{1F504} [${e.name}] Ripristinato originale`),!0):(console.error(`Sezione non trovata: ${t}`),!1)}hasLocalChanges(t){let e=this.getSection(t);return e?!!localStorage.getItem(e.storageKey):!1}exportContent(t,e){let o=this.getSection(t);if(!o){console.error(`Sezione non trovata: ${t}`);return}let n=JSON.stringify(e,null,2),h=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(h),i=document.createElement("a");i.href=s,i.download=`${o.id}-content.json`,i.click(),URL.revokeObjectURL(s),console.log(`\u{1F4E5} [${o.name}] JSON esportato`)}static \u0275fac=function(e){return new(e||r)(g(d))};static \u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"})};export{m as a};
